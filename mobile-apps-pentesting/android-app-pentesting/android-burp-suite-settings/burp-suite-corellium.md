# Burp suite corellium

In this guide, we'll be setting up a Corellium Android virtual device with the popular proxy tool, Burp Suite. We'll be using a Mac with [Burp Suite Community Edition 2020](https://portswigger.net/burp/releases/professional-community-2020-1) and a virtual Android 11 device.

Before you get started, quickly make sure that you've downloaded the Open VPN file for your virtual device and that you're connected to VPN using that profile. If you haven't already, follow the [Corellium VPN article](https://support.corellium.com/features/connect/vpn).

### Configure Burp <a href="#configure-burp" id="configure-burp"></a>

1. Navigate to the "Proxy" tab in Burp, and then select "Options.". Click on the current interface, and click _**Edit**_.

![Burp proxy tab](https://support.corellium.com/assets/images/burp-proxy-tab-4a028dc9f7902fc3652d294e0a1a99d6.png)

1. In the popup that appears, select the option for "All Interfaces.". Then, click _**OK**_ - here, take note of the port number (8080) as well as the VPN IP Address (10.11.3.2). We'll need these later when we configure the APN settings on the Virtual Machine. If you want to check that the IP Address is accurate, you can quickly run ifconfig in Terminal to validate it.

![edit proxy listerner](https://support.corellium.com/assets/images/edit-proxy-listener-23444166d39e7fddf94830c569c33d1a.png)

1. Then, select _**Yes**_ for "Listen on all interfaces,"

![listen for all](https://support.corellium.com/assets/images/listen-c58e4dcdf2f19c2f882befdd76709113.png)

1. Then, _**Allow**_ on "Accept all incoming network connections."

![confirmation dialog](https://support.corellium.com/assets/images/burp-dialog-11c12afe4a787c7305e90189d42cdb3f.png)

### CA Certificates <a href="#ca-certificates" id="ca-certificates"></a>

1. On the same Proxy -> Options screen, click _**Import / export CA certificate.**_

![click import/export cert](https://support.corellium.com/assets/images/import-cert-30111e9d4d0fd012879efd9954446cf3.png)

1. Select the option for "Certificate in DER format". Then, click _**Next**_.

![der certificate format](https://support.corellium.com/assets/images/der-format-d4e30f0107824062200af8e0e1b6940d.png)

1. Name the certificate "BurpCA.cer" and save it to your Desktop.
2. Then, switch over to your Corellium virtual device screen and go to the Files tab. Then, navigate to mnt -> sdcard -> Download folder, and click _**UPLOAD**_. Upload the BurpCa.cer.

![files path](https://support.corellium.com/assets/images/files-path-4efd374175c2091cd89ed54790b04870.png)

1. Swipe up on the virtual device's screen, then select the Settings app

![swipe up](https://support.corellium.com/assets/images/swipe-up-004740b18c1af360b228a3f6655c7b62.png)

1. In Settings, go to Security -> Encryption and credentials -> Install a certificate -> CA certificate. Then, click _**Install Anyway**_.

![click install anyway](https://support.corellium.com/assets/images/install-anyway-2a5d15f4f80b5af7d793b72fd084a497.png)

1. Here, click the top-left menu icon, and select Downloads. Then, select the certificate.

### Configure APN <a href="#configure-apn" id="configure-apn"></a>

1. Navigate back to the Settings app home page and select Network and internet -> Mobile Network -> Advanced -> Access Point Names. Then, click the network.

![settings app page](https://support.corellium.com/assets/images/settings-app-9aacede29b2b9c1304606249afd62b42.png)

1. Here, enter the IP Address and port from Step 2 of Configure Burp in the Proxy field and port fields respectively, click the menu icon in the top right, then click Save.

![enter port and proxy](https://support.corellium.com/assets/images/port-proxy-bb0979614d68f456f918f3fa85b9a7cd.png)

### Troubleshooting <a href="#troubleshooting" id="troubleshooting"></a>

If you have set up your proxy and are not able to see traffic, try closing and restarting your VPN session. Ensure that you are able to ping the IP address from the virtual device console.

Remember, you may not be able to reach HTTPS websites without proper trust certificates installed.

If the issue still persists, contact your network administrator to determine if any local network configurations may be blocking or interfering with the virtual device network.

### Validate <a href="#validate" id="validate"></a>

To validate Burp is intercepting traffic, do a quick web search in the virtual device's Webview. You will see the request in Burp, and then as you forward the request, you will see the device respond.

That's all there is to it! Thank you for taking the time to read this, and happy virtualizing!
